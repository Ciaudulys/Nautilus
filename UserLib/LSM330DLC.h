#ifndef LSM330DLC_H_
#define LSM330DLC_H_

#include <stdint.h>
#include "LSM330DLC_hw.h"

#define LSM330DLC_READ_EN						0x80
#define LSM330DLC_IncrementAddr			0x40
#define WHO_I_AM_VALUE							0xD4



//akselerometro reg
#define LSM330DLC_CTRL_REG1_A				0x20
#define LSM330DLC_CTRL_REG2_A				0x21
#define LSM330DLC_CTRL_REG3_A				0x22
#define LSM330DLC_CTRL_REG4_A				0x23
#define LSM330DLC_CTRL_REG5_A				0x24
#define LSM330DLC_CTRL_REG6_A				0x25
#define LSM330DLC_REFERENCE_A				0x26
#define LSM330DLC_STATUS_REG_A			0x27
#define LSM330DLC_OUT_X_L_A					0x28
#define LSM330DLC_OUT_X_H_A					0x29
#define LSM330DLC_OUT_Y_L_A					0x2A
#define LSM330DLC_OUT_Y_H_A					0x2B
#define LSM330DLC_OUT_Z_L_A					0x2C
#define LSM330DLC_OUT_Z_H_A					0x2D
#define LSM330DLC_FIFO_CTRL_REG_A		0x2E
#define LSM330DLC_FIFO_SRC_REG_A		0x2F
#define LSM330DLC_INT1_CFG_A				0x30
#define LSM330DLC_INT1_SOURCE_A			0x31
#define LSM330DLC_INT1_THS_A				0x32
#define LSM330DLC_INT1_DURATION_A		0x33
#define LSM330DLC_INT2_CFG_A				0x34
#define LSM330DLC_INT2_SOURCE_A			0x35
#define LSM330DLC_INT2_THS_A				0x36
#define LSM330DLC_INT2_DURATION_A		0x37
#define LSM330DLC_CLICK_CFG_A				0x38
#define LSM330DLC_CLICK_SRC_A				0x39
#define LSM330DLC_CLICK_THS_A				0x3A
#define LSM330DLC_TIME_LIMIT_A			0x3B
#define LSM330DLC_TIME_LATENCY_A		0x3C
#define LSM330DLC_TIME_WINDOW_A			0x3D
#define LSM330DLC_Act_THS						0x3E
#define LSM330DLC_Act_DUR						0x3F
//giroskopo reg
#define LSM330DLC_WHO_AM_I_G				0x0F
#define LSM330DLC_CTRL_REG1_G				0x20
#define LSM330DLC_CTRL_REG2_G				0x21
#define LSM330DLC_CTRL_REG3_G				0x22
#define LSM330DLC_CTRL_REG4_G				0x23
#define LSM330DLC_CTRL_REG5_G				0x24
#define LSM330DLC_REFERENCE_G				0x25
#define LSM330DLC_OUT_TEMP_G				0x26
#define LSM330DLC_STATUS_REG_G			0x27
#define LSM330DLC_OUT_X_L_G					0x28
#define LSM330DLC_OUT_X_H_G					0x29
#define LSM330DLC_OUT_Y_L_G					0x2A
#define LSM330DLC_OUT_Y_H_G					0x2B
#define LSM330DLC_OUT_Z_L_G					0x2C
#define LSM330DLC_OUT_Z_H_G					0x2D
#define LSM330DLC_FIFO_CTRL_REG_G		0x2E
#define LSM330DLC_FIFO_SRC_REG_G		0x2F
#define LSM330DLC_INT1_CFG_G				0x30
#define LSM330DLC_INT1_SRC_G				0x31
#define LSM330DLC_INT1_TSH_XH_G			0x32
#define LSM330DLC_INT1_TSH_XL_G			0x33	
#define LSM330DLC_INT1_TSH_YH_G			0x34
#define LSM330DLC_INT1_TSH_YL_G			0x35
#define LSM330DLC_INT1_TSH_ZH_G			0x36
#define LSM330DLC_INT1_TSH_ZL_G			0x37
#define LSM330DLC_INT1_DURATION_G		0x38

//bitukai akselerometro
#define LSM330DLC_CTRL_REG1_A_ODR_Pos	4
#define LSM330DLC_CTRL_REG1_A_ODR_pwr_dn	0
#define LSM330DLC_CTRL_REG1_A_ODR_1Hz	1
#define LSM330DLC_CTRL_REG1_A_ODR_10Hz	2
#define LSM330DLC_CTRL_REG1_A_ODR_25Hz	3
#define LSM330DLC_CTRL_REG1_A_ODR_50Hz	4
#define LSM330DLC_CTRL_REG1_A_ODR_100Hz	5
#define LSM330DLC_CTRL_REG1_A_ODR_200Hz 6
#define LSM330DLC_CTRL_REG1_A_ODR_400Hz	7
#define LSM330DLC_CTRL_REG1_A_ODR_LP_1620Hz	8
#define LSM330DLC_CTRL_REG1_A_ODR_Nrml_1344Hz_LP_5376Hz	9
#define LSM330DLC_CTRL_REG1_A_LPen_Pos 3
#define LSM330DLC_CTRL_REG1_A_Zen_Pos 2
#define LSM330DLC_CTRL_REG1_A_Yen_Pos 1
#define LSM330DLC_CTRL_REG1_A_Xen_Pos 0


#define LSM330DLC_CTRL_REG2_A_HPf_mode_pos 6
#define LSM330DLC_CTRL_REG2_A_HPf_mode_Nrm1 0
#define LSM330DLC_CTRL_REG2_A_HPf_mode_Ref 1
#define LSM330DLC_CTRL_REG2_A_HPf_mode_Nrm2	2
#define LSM330DLC_CTRL_REG2_A_HPf_mode_AutoReset 3
#define LSM330DLC_CTRL_REG2_A_HPCF2_pos 5
#define LSM330DLC_CTRL_REG2_A_HPCF1_pos 4
#define LSM330DLC_CTRL_REG2_A_FDS_pos 3
#define LSM330DLC_CTRL_REG2_A_HPCLICK_pos 2
#define LSM330DLC_CTRL_REG2_A_HPIS2_pos 1
#define LSM330DLC_CTRL_REG2_A_HPIS1_pos 0


#define LSM330DLC_CTRL_REG3_A_I1_CLICK_pos 7
#define LSM330DLC_CTRL_REG3_A_I1_AOI1_pos 6
#define LSM330DLC_CTRL_REG3_A_I1_DRDY1_pos 4
#define LSM330DLC_CTRL_REG3_A_I1_DRDY2_pos 3
#define LSM330DLC_CTRL_REG3_A_I1_WTM_pos 2
#define LSM330DLC_CTRL_REG3_A_I1_OVERRUN 1


#define LSM330DLC_CTRL_REG4_A_BLE_pos 6
#define LSM330DLC_CTRL_REG4_A_FS_pos 4
#define LSM330DLC_CTRL_REG4_A_FS_2g 0
#define LSM330DLC_CTRL_REG4_A_FS_4g 1
#define LSM330DLC_CTRL_REG4_A_FS_8g 2
#define LSM330DLC_CTRL_REG4_A_FS_16g 3
#define LSM330DLC_CTRL_REG4_A_HR_mode_pos 3
#define LSM330DLC_CTRL_REG4_A_SIM_pos 0


#define LSM330DLC_CTRL_REG5_A_BOOT_pos 7
#define LSM330DLC_CTRL_REG5_A_FIFO_EN_pos 6
#define LSM330DLC_CTRL_REG5_A_LIR_INT1_pos 3
#define LSM330DLC_CTRL_REG5_A_D4D_INT1_pos 2


#define LSM330DLC_CTRL_REG6_A_I2_CLICKen_pos 7
#define LSM330DLC_CTRL_REG6_A_I2_INT1_pos 6
#define LSM330DLC_CTRL_REG6_A_BOOT_I2_pos 4
#define LSM330DLC_CTRL_REG6_A_H_LACTIVE_pos 2


#define LSM330DLC_STATUS_REG_A_ZYXOR_pos 7
#define LSM330DLC_STATUS_REG_A_ZOR_pos 6
#define LSM330DLC_STATUS_REG_A_YOR_pos 5
#define LSM330DLC_STATUS_REG_A_XOR_pos 4
#define LSM330DLC_STATUS_REG_A_ZYXDA_pos 3
#define LSM330DLC_STATUS_REG_A_ZDA_pos 2
#define LSM330DLC_STATUS_REG_A_YDA_pos 1
#define LSM330DLC_STATUS_REG_A_XDA_pos 0


#define LSM330DLC_FIFO_CTRL_REG_A_FM_pos 6
#define LSM330DLC_FIFO_CTRL_REG_A_FM_bypass 0
#define LSM330DLC_FIFO_CTRL_REG_A_FM_FIFO 1
#define LSM330DLC_FIFO_CTRL_REG_A_FM_stream 2
#define LSM330DLC_FIFO_CTRL_REG_A_FM_trigger 3
#define LSM330DLC_FIFO_CTRL_REG_A_TR_pos 5
#define LSM330DLC_FIFO_CTRL_REG_A_FTH_pos 0
#define LSM330DLC_FIFO_CTRL_REG_A_FTH0_pos 0
#define LSM330DLC_FIFO_CTRL_REG_A_FTH1_pos 1
#define LSM330DLC_FIFO_CTRL_REG_A_FTH2_pos 2
#define LSM330DLC_FIFO_CTRL_REG_A_FTH3_pos 3
#define LSM330DLC_FIFO_CTRL_REG_A_FTH4_pos 4


#define LSM330DLC_FIFO_SRC_REG_A_WTM_pos 7
#define LSM330DLC_FIFO_SRC_REG_A_OVRN_FIFO_pos 6
#define LSM330DLC_FIFO_SRC_REG_A_EMPTY_pos 5
#define LSM330DLC_FIFO_SRC_REG_A_FSS_mask 0x1F


#define LSM330DLC_INT1_CFG_A_AOI_pos 7
#define LSM330DLC_INT1_CFG_A_6D_pos 6
#define LSM330DLC_INT1_CFG_A_ZHIE_pos 5
#define LSM330DLC_INT1_CFG_A_ZLIE_pos 4
#define LSM330DLC_INT1_CFG_A_YHIE_pos 3
#define LSM330DLC_INT1_CFG_A_YLIE_pos 2
#define LSM330DLC_INT1_CFG_A_XHIE_pos 1
//#define LSM330DLC_INT1_CFG_A_ZLIE_pos 0 // incompatible


#define LSM330DLC_INT1_SOURCE_A_IA_pos 6
#define LSM330DLC_INT1_SOURCE_A_ZH_pos 5
#define LSM330DLC_INT1_SOURCE_A_ZL_pos 4
#define LSM330DLC_INT1_SOURCE_A_YH_pos 3
#define LSM330DLC_INT1_SOURCE_A_YL_pos 2
#define LSM330DLC_INT1_SOURCE_A_XH_pos 1
#define LSM330DLC_INT1_SOURCE_A_XL_pos 0


/* Datascheete nera
#define LSM330DLC_INT2_CFG_A
#define LSM330DLC_INT2_SOURCE_A
#define LSM330DLC_INT2_THS_A
#define LSM330DLC_INT2_DURATION_A
*/


#define LSM330DLC_CLICK_CFG_A_ZD_pos 5
#define LSM330DLC_CLICK_CFG_A_ZS_pos 4
#define LSM330DLC_CLICK_CFG_A_YD_pos 3
#define LSM330DLC_CLICK_CFG_A_YS_pos 2
#define LSM330DLC_CLICK_CFG_A_XD_pos 1
#define LSM330DLC_CLICK_CFG_A_XS_pos 0


#define LSM330DLC_CLICK_SRC_A_IA_pos 6
#define LSM330DLC_CLICK_SRC_A_DCLICK_pos 5
#define LSM330DLC_CLICK_SRC_A_SCLICK_pos 4
#define LSM330DLC_CLICK_SRC_A_Sign_pos 3
#define LSM330DLC_CLICK_SRC_A_Z_pos 2
#define LSM330DLC_CLICK_SRC_A_Y_pos 1
#define LSM330DLC_CLICK_SRC_A_X_pos 0

//bitukai giroskopo
//giroskopo reg
#define LSM330DLC_CTRL_REG1_G_ODR_pos 6
#define LSM330DLC_CTRL_REG1_G_BW_pos 4
#define LSM330DLC_CTRL_REG1_G_ODR_BW_pos 4
#define LSM330DLC_CTRL_REG1_G_ODR95_BW12 0
#define LSM330DLC_CTRL_REG1_G_ODR95_BW25 1
#define LSM330DLC_CTRL_REG1_G_ODR190_BW12 4
#define LSM330DLC_CTRL_REG1_G_ODR190_BW25 5
#define LSM330DLC_CTRL_REG1_G_ODR190_BW50 6
#define LSM330DLC_CTRL_REG1_G_ODR190_BW70	7
#define LSM330DLC_CTRL_REG1_G_ODR380_BW20 8
#define LSM330DLC_CTRL_REG1_G_ODR380_BW25 9
#define LSM330DLC_CTRL_REG1_G_ODR380_BW50 10
#define LSM330DLC_CTRL_REG1_G_ODR380_BW100 11
#define LSM330DLC_CTRL_REG1_G_ODR760_BW30 12
#define LSM330DLC_CTRL_REG1_G_ODR760_BW35 13
#define LSM330DLC_CTRL_REG1_G_ODR760_BW50 14
#define LSM330DLC_CTRL_REG1_G_ODR760_BW100 15
#define LSM330DLC_CTRL_REG1_G_PD_pos 3
#define LSM330DLC_CTRL_REG1_G_Zen_pos 2
#define LSM330DLC_CTRL_REG1_G_Yen_pos 1
#define LSM330DLC_CTRL_REG1_G_Xen_pos 0


#define LSM330DLC_CTRL_REG2_G_EXTRen_pos 7
#define LSM330DLC_CTRL_REG2_G_LVLen_pos 6
#define LSM330DLC_CTRL_REG2_G_HPM_pos 4
#define LSM330DLC_CTRL_REG2_G_HPM_nrm1 0
#define LSM330DLC_CTRL_REG2_G_HPM_ref 1
#define LSM330DLC_CTRL_REG2_G_HPM_nrm2 2
#define LSM330DLC_CTRL_REG2_G_HPM_autoreset 3
#define LSM330DLC_CTRL_REG2_G_HPCF_pos 0		//labai tingiu rasyt, surasyta datascheeto 54 psl


#define LSM330DLC_CTRL_REG3_G_I1_Int1_pos 7
#define LSM330DLC_CTRL_REG3_G_I1_Boot_pos 6
#define LSM330DLC_CTRL_REG3_G_H_active_pos 5
#define LSM330DLC_CTRL_REG3_G_PP_OD_pos 4
#define LSM330DLC_CTRL_REG3_G_I2_DRDY_pos 3
#define LSM330DLC_CTRL_REG3_G_I2_WTM_pos 2
#define LSM330DLC_CTRL_REG3_G_I2_ORun_pos 1
#define LSM330DLC_CTRL_REG3_G_I2_Empty_pos 0


#define LSM330DLC_CTRL_REG4_G_BDU_pos 7
#define LSM330DLC_CTRL_REG4_G_BLE_pos 6
#define LSM330DLC_CTRL_REG4_G_FS_pos	4
#define LSM330DLC_CTRL_REG4_G_FS_250dps 0
#define LSM330DLC_CTRL_REG4_G_FS_500dps 1
#define LSM330DLC_CTRL_REG4_G_FS_2000dps 2
#define LSM330DLC_CTRL_REG4_G_FS_2000dps2 3
#define LSM330DLC_CTRL_REG4_G_SIM_pos 0


#define LSM330DLC_CTRL_REG5_G_BOOT_pos 7
#define LSM330DLC_CTRL_REG5_G_FIFO_EN_pos 6
#define LSM330DLC_CTRL_REG5_G_HPen_pos 4
#define LSM330DLC_CTRL_REG5_G_Int1_Sel_pos 2	//nelabai suprantu kas per dalykai
#define LSM330DLC_CTRL_REG5_G_Out_Sel_pos 0		//nelabai suprantu kas per dalykai


#define LSM330DLC_STATUS_REG_G_ZYXOR_pos 7
#define LSM330DLC_STATUS_REG_G_ZOR_pos 6
#define LSM330DLC_STATUS_REG_G_YOR_pos 5
#define LSM330DLC_STATUS_REG_G_XOR_pos 4
#define LSM330DLC_STATUS_REG_G_ZYXDA_pos 3
#define LSM330DLC_STATUS_REG_G_ZDA_pos 2
#define LSM330DLC_STATUS_REG_G_YDA_pos 1
#define LSM330DLC_STATUS_REG_G_XDA_pos 0


#define LSM330DLC_FIFO_CTRL_REG_G_FM_pos 5
#define LSM330DLC_FIFO_CTRL_REG_G_FM_bypass 0
#define LSM330DLC_FIFO_CTRL_REG_G_FM_fifo 1
#define LSM330DLC_FIFO_CTRL_REG_G_FM_stream 2
#define LSM330DLC_FIFO_CTRL_REG_G_FM_stream_to_fifo 3
#define LSM330DLC_FIFO_CTRL_REG_G_FM_bypass_to_stream 4
#define LSM330DLC_FIFO_CTRL_REG_G_WTH_pos 0


#define LSM330DLC_FIFO_SRC_REG_G_WTM_pos 7
#define LSM330DLC_FIFO_SRC_REG_G_OVRN_pos 6
#define LSM330DLC_FIFO_SRC_REG_G_EMPTY_pos 5
#define LSM330DLC_FIFO_SRC_REG_G_FSS_pos 0
#define LSM330DLC_FIFO_SRC_REG_G_FSS_mask 0x1F


#define LSM330DLC_INT1_CFG_G_AND_OR_pos 7
#define LSM330DLC_INT1_CFG_G_LIR_pos 6
#define LSM330DLC_INT1_CFG_G_ZHIE_pos 5
#define LSM330DLC_INT1_CFG_G_ZLIE_pos 4
#define LSM330DLC_INT1_CFG_G_YHIE_pos 3
#define LSM330DLC_INT1_CFG_G_YLIE_pos 2
#define LSM330DLC_INT1_CFG_G_XHIE_pos 1
#define LSM330DLC_INT1_CFG_G_XLIE_pos 0


#define LSM330DLC_INT1_SRC_G_IA_pos 6
#define LSM330DLC_INT1_SRC_G_ZH_pos 5
#define LSM330DLC_INT1_SRC_G_ZL_pos 4
#define LSM330DLC_INT1_SRC_G_YH_pos 3
#define LSM330DLC_INT1_SRC_G_YL_pos 2
#define LSM330DLC_INT1_SRC_G_XH_pos 1
#define LSM330DLC_INT1_SRC_G_XL_pos 0

typedef struct
{
	int16_t X;
	int16_t Y;
	int16_t Z;
}LSM330DLC_AccelData_t;

typedef struct
{
	int16_t Roll;
	int16_t Pitch;
	int16_t Yaw;
	
}LSM330DLC_GyroData_t;

//funkcijos
uint8_t LSM330DLC_RdRegGyro(uint8_t address);
uint8_t LSM330DLC_RdRegAccel(uint8_t address);
void LSM330DLC_WrRegAccel(uint8_t address, uint8_t data);
void LSM330DLC_WrRegGyro(uint8_t address, uint8_t data);
void LSM330DLC_init(void);
void LSM330DLC_AccelRdData(LSM330DLC_AccelData_t* data);
void LSM330DLC_GyroRdData(LSM330DLC_GyroData_t* data);


#endif
